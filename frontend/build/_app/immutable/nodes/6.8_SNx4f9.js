import{f as _,e as p,b as c,s as d,d as $t}from"../chunks/CxsSqunw.js";import{i as Ie}from"../chunks/Cm5mOaJu.js";import{F as Te,G as je,X as Re,Y as Pe,t as E,J as Le,j as t,x as i,K as s,M as a,k as C,m as L,N as r,I as rt,O as st}from"../chunks/nQRq2lGW.js";import{i as $}from"../chunks/BAUvmEh2.js";import{s as z,e as Ze,a as S,r as Oe,b as He,c as U,i as Je}from"../chunks/DJXuwkbn.js";import{s as Ne}from"../chunks/BN11tLjS.js";import{d as Ve}from"../chunks/lY0_PU-D.js";var Ee=_('<div class="bg-red-50 border border-red-200 rounded-md p-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800">Error loading disk stats</h3> <div class="mt-2 text-sm text-red-700"> </div></div></div></div>'),Ue=_('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div> <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">Loading storage information...</p></div>'),Ge=_('<div class="border-t border-gray-200 dark:border-gray-700 p-4 space-y-4"><div class="grid grid-cols-1 md:grid-cols-3 gap-4"><div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Storage Type</label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-900 dark:text-white"><option>JBOD (Independent)</option><option>RAID Array</option><option>ZFS Pool</option></select></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Mount Point</label> <input type="text" placeholder="e.g., /data" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-900 dark:text-white"/></div> <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Filesystem</label> <select class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 text-gray-900 dark:text-white"><option>ext4</option><option>XFS</option><option>Btrfs</option><option>ZFS</option><option>MergerFS</option></select></div></div> <div><div class="flex items-center justify-between text-sm mb-2"><span class="text-gray-600 dark:text-gray-300"> </span> <span class="font-medium text-gray-900 dark:text-white"> </span></div> <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3"><div></div></div></div> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"><div><p class="text-gray-600 dark:text-gray-300">Temperature</p> <p class="font-medium text-gray-900 dark:text-white"> </p></div> <div><p class="text-gray-600 dark:text-gray-300">Health</p> <p class="font-medium text-gray-900 dark:text-white"> </p></div> <div><p class="text-gray-600 dark:text-gray-300">Available</p> <p class="font-medium text-gray-900 dark:text-white"> </p></div> <div><p class="text-gray-600 dark:text-gray-300">Read-Only</p> <p class="font-medium text-gray-900 dark:text-white"> </p></div></div> <div class="flex space-x-2 pt-2"><button class="btn btn-primary">Apply Changes</button> <button class="btn btn-secondary">Format Disk</button> <button class="btn btn-secondary">SMART Test</button> <button class="btn btn-secondary">Unmount</button></div></div>'),Ke=_('<div class="card hover:shadow-lg transition-shadow"><div class="flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700" role="button" tabindex="0"><div class="flex items-center space-x-4 flex-1"><div><svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div> <div class="flex-1"><div class="flex items-center space-x-3"><h4 class="text-lg font-semibold text-gray-900 dark:text-white"> </h4> <span> </span></div> <p class="text-sm text-gray-600 dark:text-gray-300"> </p></div> <div class="text-right"><div class="text-lg font-semibold text-gray-900 dark:text-white"> </div> <div class="text-sm text-gray-600 dark:text-gray-300"> </div></div></div></div> <!></div>'),Xe=_('<div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="stat-card"><div class="flex items-center"><div class="p-3 bg-blue-100 rounded-lg mr-4"><svg class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path></svg></div> <div><p class="text-sm font-medium text-gray-600 dark:text-gray-300">Total Storage</p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p> <p class="text-xs text-gray-500 dark:text-gray-400">Connected</p></div></div></div> <div class="stat-card"><div class="flex items-center"><div class="p-3 bg-green-100 rounded-lg mr-4"><svg class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div><p class="text-sm font-medium text-gray-600 dark:text-gray-300">Available</p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p> <p class="text-xs text-gray-500 dark:text-gray-400">Healthy disks</p></div></div></div> <div class="stat-card"><div class="flex items-center"><div class="p-3 bg-yellow-100 rounded-lg mr-4"><svg class="h-6 w-6 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div> <div><p class="text-sm font-medium text-gray-600 dark:text-gray-300">Health Alerts</p> <p class="text-2xl font-bold text-gray-900 dark:text-white"> </p> <p class="text-xs text-gray-500 dark:text-gray-400">Needs attention</p></div></div></div></div> <div class="space-y-3"><h3 class="text-lg font-semibold text-gray-900 dark:text-white">Disk Details</h3> <!></div>',1),Ye=_('<div class="text-center py-12"><div class="mx-auto max-w-md"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">RAID Management</h3> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Create and manage RAID arrays</p> <div class="mt-6"><button class="btn btn-primary">Create RAID Array</button></div></div></div>'),qe=_('<div class="text-center py-12"><div class="mx-auto max-w-md"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">Storage Pools</h3> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">JBOD and MergerFS pooling</p> <div class="mt-6"><button class="btn btn-primary">Create Storage Pool</button></div></div></div>'),Qe=_('<div class="text-center py-12"><div class="mx-auto max-w-md"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">ZFS Pools</h3> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">Advanced ZFS pool management</p> <div class="mt-6"><button class="btn btn-primary">Create ZFS Pool</button></div></div></div>'),We=_('<div class="space-y-6"><div class="flex items-center justify-between"><div><h2 class="text-xl font-bold text-gray-900 dark:text-white">Arcanas Storage Management</h2> <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">Manage disks, RAID arrays, and storage pools</p></div> <button class="btn btn-primary"> </button></div> <div class="border-b border-gray-200 dark:border-gray-700"><nav class="-mb-px flex space-x-8"><button>Disks</button> <button>RAID Arrays</button> <button>Storage Pools</button> <button>ZFS Pools</button></nav></div> <!> <!> <!></div>');function ta(ot,ae){Te(ae,!1);const m=L();let g=L([]),I=L(!0),G=L(null),x=L(new Set),M=L("disks");async function it(){try{C(G,null);const o=await Ve.getDiskStats();JSON.stringify(o)!==JSON.stringify(t(g))&&C(g,o)}catch(o){C(G,o.message),console.error("Failed to load disk stats:",o)}finally{t(I)&&C(I,!1)}}function zt(o){t(x).has(o)?t(x).delete(o):t(x).add(o),C(x,t(x))}function K(o){C(M,o)}function re(){alert("RAID creation functionality coming soon! This will open a dialog to configure RAID levels, select disks, and create the array.")}function se(){alert("Storage pool creation coming soon! This will configure JBOD/MergerFS pooling.")}function oe(){alert("ZFS pool creation coming soon! This will configure ZFS pools with advanced features.")}je(()=>{it();const o=setInterval(it,1e4);return()=>clearInterval(o)});function ie(o){switch(o){case"healthy":return"text-green-600 bg-green-100";case"warning":return"text-yellow-600 bg-yellow-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 dark:text-gray-300 bg-gray-100"}}function le(o){return o>=90?"bg-red-500":o>=75?"bg-yellow-500":"bg-green-500"}function Z(o){if(o===0)return"0 B";const l=1024,v=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(o)/Math.log(l));return parseFloat((o/Math.pow(l,n)).toFixed(1))+" "+v[n]}Re(()=>t(M),()=>{C(m,o=>t(M)===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600")}),Pe(),Ie();var lt=We(),dt=a(lt),X=s(a(dt),2),de=a(X,!0);r(X),r(dt);var nt=s(dt,2),It=a(nt),vt=a(It),ct=s(vt,2),gt=s(ct,2),Tt=s(gt,2);r(It),r(nt);var jt=s(nt,2);{var ne=o=>{var l=Ee(),v=a(l),n=s(a(v),2),A=s(a(n),2),u=a(A,!0);r(A),r(n),r(v),r(l),E(()=>d(u,t(G))),c(o,l)};$(jt,o=>{t(G)&&o(ne)})}var Rt=s(jt,2);{var ve=o=>{var l=Ue();c(o,l)};$(Rt,o=>{t(I),t(g),i(()=>t(I)&&!t(g).length)&&o(ve)})}var ce=s(Rt,2);{var ge=o=>{var l=Xe(),v=rt(l),n=a(v),A=a(n),u=s(a(A),2),f=s(a(u),2),T=a(f);r(f),st(2),r(u),r(A),r(n);var h=s(n,2),j=a(h),y=s(a(j),2),b=s(a(y),2),R=a(b,!0);r(b),st(2),r(y),r(j),r(h);var D=s(h,2),w=a(D),P=s(a(w),2),O=s(a(P),2),Y=a(O,!0);r(O),st(2),r(P),r(w),r(D),r(v);var q=s(v,2),xe=s(a(q),2);Ze(xe,1,()=>t(g),Je,(F,e)=>{var ut=Ke(),B=a(ut),Pt=a(B),Lt=a(Pt);let Zt;var xt=s(Lt,2),pt=a(xt),mt=a(pt),pe=a(mt,!0);r(mt);var ft=s(mt,2),me=a(ft,!0);r(ft),r(pt);var Ot=s(pt,2),fe=a(Ot,!0);r(Ot),r(xt);var Ht=s(xt,2),yt=a(Ht),ye=a(yt);r(yt);var Jt=s(yt,2),be=a(Jt);r(Jt),r(Ht),r(Pt),r(B);var _e=s(B,2);{var he=k=>{var H=Ge(),J=a(H),N=a(J),Q=a(N),V=s(Q,2),bt=a(V);bt.value=bt.__value="jbod";var _t=s(bt);_t.value=_t.__value="raid";var Nt=s(_t);Nt.value=Nt.__value="zfs",r(V),r(N);var ht=s(N,2),Vt=a(ht),wt=s(Vt,2);Oe(wt),r(ht);var Et=s(ht,2),Ut=a(Et),kt=s(Ut,2),W=a(kt);W.value=W.__value="ext4";var tt=s(W);tt.value=tt.__value="xfs";var et=s(tt);et.value=et.__value="btrfs";var at=s(et);at.value=at.__value="zfs";var St=s(at);St.value=St.__value="mergerfs",r(kt),r(Et),r(J);var Mt=s(J,2),At=a(Mt),Dt=a(At),we=a(Dt);r(Dt);var Gt=s(Dt,2),ke=a(Gt);r(Gt),r(At);var Kt=s(At,2),Xt=a(Kt);r(Kt),r(Mt);var Yt=s(Mt,2),Ft=a(Yt),qt=s(a(Ft),2),Se=a(qt);r(qt),r(Ft);var Bt=s(Ft,2),Qt=s(a(Bt),2),Me=a(Qt);r(Qt),r(Bt);var Ct=s(Bt,2),Wt=s(a(Ct),2),Ae=a(Wt,!0);r(Wt),r(Ct);var te=s(Ct,2),ee=s(a(te),2),De=a(ee,!0);r(ee),r(te),r(Yt),st(2),r(H),E((Fe,Be,Ce,$e,ze)=>{S(Q,"for",`storage-type-${t(e),i(()=>t(e).device)??""}`),S(V,"id",`storage-type-${t(e),i(()=>t(e).device)??""}`),S(Vt,"for",`mount-point-${t(e),i(()=>t(e).device)??""}`),S(wt,"id",`mount-point-${t(e),i(()=>t(e).device)??""}`),He(wt,(t(e),i(()=>t(e).mountpoint||""))),S(Ut,"for",`filesystem-${t(e),i(()=>t(e).device)??""}`),S(kt,"id",`filesystem-${t(e),i(()=>t(e).device)??""}`),U(W,(t(e),i(()=>t(e).filesystem==="ext4"))),U(tt,(t(e),i(()=>t(e).filesystem==="xfs"))),U(et,(t(e),i(()=>t(e).filesystem==="btrfs"))),U(at,(t(e),i(()=>t(e).filesystem==="zfs"))),U(St,(t(e),i(()=>t(e).filesystem==="mergerfs"))),d(we,`Usage: ${Fe??""} / ${Be??""}`),d(ke,`${Ce??""}%`),z(Xt,1,`${$e??""} h-3 rounded-full transition-all duration-500`),Ne(Xt,`width: ${t(e),i(()=>t(e).usage)??""}%`),d(Se,`${t(e),i(()=>t(e).smart.temperature)??""}Â°C`),d(Me,`${t(e),i(()=>t(e).smart.health)??""}%`),d(Ae,ze),d(De,(t(e),i(()=>t(e).read_only?"Yes":"No")))},[()=>(t(e),i(()=>Z(t(e).used))),()=>(t(e),i(()=>Z(t(e).size))),()=>(t(e),i(()=>t(e).usage.toFixed(1))),()=>(t(e),i(()=>le(t(e).usage))),()=>(t(e),i(()=>Z(t(e).available)))]),c(k,H)};$(_e,k=>{t(x),t(e),i(()=>t(x).has(t(e).device))&&k(he)})}r(ut),E((k,H,J,N,Q,V)=>{S(B,"aria-label",`Toggle details for ${t(e),i(()=>t(e).device)??""}`),S(B,"aria-expanded",k),Zt=z(Lt,1,"transition-transform duration-200",null,Zt,H),d(pe,(t(e),i(()=>t(e).device))),z(ft,1,`px-2 py-1 text-xs font-medium rounded-full ${J??""}`),d(me,(t(e),i(()=>t(e).smart.status))),d(fe,(t(e),i(()=>t(e).model))),d(ye,`${N??""}%`),d(be,`${Q??""} / ${V??""}`)},[()=>(t(x),t(e),i(()=>t(x).has(t(e).device))),()=>({"rotate-90":t(x).has(t(e).device)}),()=>(t(e),i(()=>ie(t(e).smart.status))),()=>(t(e),i(()=>t(e).usage.toFixed(1))),()=>(t(e),i(()=>Z(t(e).used))),()=>(t(e),i(()=>Z(t(e).size)))]),p("click",B,()=>zt(t(e).device)),p("keydown",B,k=>k.key==="Enter"||k.key===" "?zt(t(e).device):null),c(F,ut)}),r(q),E((F,e)=>{d(T,`${t(g),i(()=>t(g).length)??""} disks`),d(R,F),d(Y,e)},[()=>(t(g),i(()=>t(g).filter(F=>F.smart.status==="healthy").length)),()=>(t(g),i(()=>t(g).filter(F=>F.smart.status!=="healthy").length))]),c(o,l)},ue=o=>{var l=$t(),v=rt(l);{var n=u=>{var f=Ye(),T=a(f),h=s(a(T),6),j=a(h);r(h),r(T),r(f),p("click",j,re),c(u,f)},A=u=>{var f=$t(),T=rt(f);{var h=y=>{var b=qe(),R=a(b),D=s(a(R),6),w=a(D);r(D),r(R),r(b),p("click",w,se),c(y,b)},j=y=>{var b=$t(),R=rt(b);{var D=w=>{var P=Qe(),O=a(P),Y=s(a(O),6),q=a(Y);r(Y),r(O),r(P),p("click",q,oe),c(w,P)};$(R,w=>{t(M)==="zfs"&&w(D)},!0)}c(y,b)};$(T,y=>{t(M)==="pools"?y(h):y(j,!1)},!0)}c(u,f)};$(v,u=>{t(M)==="raid"?u(n):u(A,!1)},!0)}c(o,l)};$(ce,o=>{t(M)==="disks"?o(ge):o(ue,!1)})}r(lt),E((o,l,v,n)=>{X.disabled=t(I),d(de,t(I)?"Loading...":"Refresh"),z(vt,1,`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${o??""}`),z(ct,1,`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${l??""}`),z(gt,1,`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${v??""}`),z(Tt,1,`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${n??""}`)},[()=>(t(m),i(()=>t(m)("disks"))),()=>(t(m),i(()=>t(m)("raid"))),()=>(t(m),i(()=>t(m)("pools"))),()=>(t(m),i(()=>t(m)("zfs")))]),p("click",X,it),p("click",vt,()=>K("disks")),p("click",ct,()=>K("raid")),p("click",gt,()=>K("pools")),p("click",Tt,()=>K("zfs")),c(ot,lt),Le()}function da(ot){ta(ot,{})}export{da as component};
