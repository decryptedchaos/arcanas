import{f as y,i as B,n as A,m as N,j as o,k as R,l as U,p as M,o as Y,b as w,D as x,q as $,u as q,P as z,v as h,w as j,S as p,L as C,x as G,y as Z,z as F,A as H,B as J}from"./nQRq2lGW.js";import{s as K,g as Q}from"./BvTK9Epo.js";let c=!1,g=Symbol();function k(e,r,u){const n=u[r]??(u[r]={store:null,source:N(void 0),unsubscribe:A});if(n.store!==e&&!(g in u))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=A;else{var a=!0;n.unsubscribe=K(e,t=>{a?n.source.v=t:R(n.source,t)}),a=!1}return e&&g in u?Q(e):o(n.source)}function ee(){const e={};function r(){y(()=>{for(var u in e)e[u].unsubscribe();B(e,g,{enumerable:!1,value:!0})})}return[e,r]}function V(e){var r=c;try{return c=!1,[e(),c]}finally{c=r}}function re(e,r,u,n){var E;var a=!q||(u&z)!==0,t=(u&h)!==0,D=(u&J)!==0,f=n,b=!0,P=()=>(b&&(b=!1,f=D?G(n):n),f),_;if(t){var L=p in e||C in e;_=((E=U(e,r))==null?void 0:E.set)??(L&&r in e?i=>e[r]=i:void 0)}var d,I=!1;t?[d,I]=V(()=>e[r]):d=e[r],d===void 0&&n!==void 0&&(d=P(),_&&(a&&M(),_(d)));var s;if(a?s=()=>{var i=e[r];return i===void 0?P():(b=!0,i)}:s=()=>{var i=e[r];return i!==void 0&&(f=void 0),i===void 0?f:i},a&&(u&F)===0)return s;if(_){var T=e.$$legacy;return(function(i,v){return arguments.length>0?((!a||!v||T||I)&&_(v?s():i),i):s()})}var S=!1,l=((u&H)!==0?Z:$)(()=>(S=!1,s()));t&&o(l);var m=w;return(function(i,v){if(arguments.length>0){const O=v?o(l):a&&t?Y(i):i;return R(l,O),S=!0,f!==void 0&&(f=O),i}return j&&S||(m.f&x)!==0?l.v:o(l)})}export{k as a,re as p,ee as s};
